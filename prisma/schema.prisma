generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "postgresql"
  url          = env("DATABASE_URL")
  directUrl    = env("DIRECT_URL")
}

model User {
  id                            String   @id @unique
  email                         String   @unique
  firstName                     String
  lastName                      String
  profileImage                  String
  connectedAccountId            String   @unique
  stripeConnectedAccount        Boolean  @default(false)

  products                      Product[]
}

model Product {
  id                            String   @id @default(uuid())
  name                          String
  price                         Int
  summary                       String
  description                   Json
  images                        String[]
  productFile                   String
  category                      CategoryType
  sellCount                     Int     @default(0)

  createdBy                     User     @relation(fields: [userId], references: [id])
  userId                        String

  createdAt                     DateTime @default(now())
}

enum CategoryType {
  books
  course
  workshop
  starterkit
  codingchallenge
  other
}